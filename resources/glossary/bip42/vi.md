---
term: BIP42
---

Một đề xuất nhằm cải thiện Bitcoin Core bằng cách giải quyết một lỗi nhỏ trong lịch trình giảm phần thưởng khối. Lỗi này, nếu không được sửa chữa, sẽ dẫn đến việc tạo ra tổng số bitcoin vượt quá giới hạn dự định là 21 triệu. Cụ thể, sau khi kết thúc các đợt giảm phân nửa, một chu kỳ tạo bitcoin mới có thể lý thuyết được kích hoạt xung quanh năm 2214. Mã Core liên quan sử dụng một thao tác dịch phải nhị phân trên giá trị phần thưởng của thợ mỏ. Lỗi xuất phát từ việc sử dụng thao tác dịch này trong một bối cảnh mà hành vi không được định nghĩa theo tiêu chuẩn ngôn ngữ C++. Dịch một số nguyên 64-bit (`int64_t`) nhiều hơn 63 bit sang phải rơi vào loại hành vi không được định nghĩa này. Trong mã Bitcoin Core, điều này có thể xảy ra sau 64 lần giảm phân nửa, tại độ cao khối số 13,440,000. Vượt qua giới hạn này, hành vi của thao tác dịch bit không được định nghĩa, nghĩa là các biên dịch khác nhau có thể giải thích mã một cách khác nhau. Điều này có thể dẫn đến các kết quả không lường trước được, bao gồm khả năng tạo ra lạm phát bitcoin vô hạn. BIP42 đã sửa chữa vấn đề này bằng cách yêu cầu phần thưởng khối được thiết lập về không sau 64 lần giảm phân nửa, do đó tránh việc sử dụng một thao tác dịch phải trong một bối cảnh hành vi không được định nghĩa. Sự chỉnh sửa này, là một soft fork, do đó làm rõ hành vi của mã Bitcoin Core. Mặc dù khá nghiêm trọng, lỗi này được BIP42 sửa chữa không ngay lập tức trở nên quan trọng, vì nó sẽ không biểu hiện cho đến khoảng năm 2214. Được công bố vào ngày 1 tháng 4 năm 2014, bởi Pieter Wuille, BIP42 do đó được đặc trưng bởi tông giọng hài hước của nó.