---
term: BIP42
---

Ettepanek Bitcoin Core'i täiustamiseks, mis käsitleb väikest viga ploki preemia vähendamise ajakavas. See anomaalia, kui seda ei parandata, oleks viinud bitcoinide koguloomise ületamiseni planeeritud 21 miljoni piirist. Konkreetselt pärast poolitamiste lõppu oleks teoreetiliselt võinud tekkida uus bitcoini loomise tsükkel umbes aastal 2214. Küsimuse all olev Core kood kasutas kaevandaja preemia väärtusel parempoolset binaarset nihet. Viga tulenes selle nihkeoperatsiooni kasutamisest kontekstis, kus käitumine oli C++ keelestandardite kohaselt määratlemata. 64-bitise täisarvu (`int64_t`) rohkem kui 63 biti võrra paremale nihutamine kuulub selle määratlemata käitumise kategooriasse. Bitcoin Core koodis oleks see võinud juhtuda pärast 64 poolitamist, ploki kõrgusel nr 13,440,000. Selle piiri taga ei olnud bitinihke käitumine määratletud, mis tähendab, et erinevad kompileerimised võisid koodi erinevalt tõlgendada. See oleks võinud viia ettearvamatute tulemusteni, sealhulgas lõputu bitcoini inflatsiooni loomise võimaluseni. BIP42 parandas selle probleemi, nõudes, et ploki preemia määrataks pärast 64 poolitamist nulliks, vältides seeläbi parempoolse nihkeoperatsiooni kasutamist määratlemata käitumise kontekstis. See muudatus, mis oli pehme kahvel, selgitas seega Bitcoin Core koodi käitumist. Kuigi üsna tõsine, ei olnud BIP42 poolt parandatud viga kohe kriitiline, kuna see ei oleks ilmnenud enne umbes aastat 2214. Avaldatud 1. aprillil 2014 Pieter Wuille poolt, on BIP42 seega eristatav oma huumorimeele poolest.