---
termo: BIP42
---

Uma proposta para melhorar o Bitcoin Core que aborda um pequeno bug no cronograma de redução da recompensa por bloco. Esta anomalia, se não corrigida, levaria à criação total de bitcoins excedendo o limite planejado de 21 milhões. Especificamente, após o fim das reduções pela metade, um novo ciclo de criação de bitcoin poderia teoricamente ter sido desencadeado por volta do ano de 2214. O código Core em questão utilizava uma operação de deslocamento binário à direita no valor da recompensa do minerador. O bug originou-se do uso desta operação de deslocamento em um contexto onde o comportamento era indefinido de acordo com os padrões da linguagem C++. Deslocar um inteiro de 64 bits (`int64_t`) mais de 63 bits para a direita se enquadra nesta categoria de comportamento indefinido. No código do Bitcoin Core, isso poderia ter ocorrido após 64 reduções pela metade, no número do bloco 13.440.000. Além deste limite, o comportamento do deslocamento de bits não era definido, significando que diferentes compilações poderiam interpretar o código de maneira diferente. Isso poderia ter levado a resultados imprevisíveis, incluindo a possibilidade de criar uma inflação infinita de bitcoin. O BIP42 corrigiu esse problema ao determinar que a recompensa por bloco fosse definida como zero após 64 reduções pela metade, evitando assim o uso de uma operação de deslocamento à direita em um contexto de comportamento indefinido. Esta modificação, que foi um soft fork, esclareceu assim o comportamento do código do Bitcoin Core. Embora bastante sério, este bug corrigido pelo BIP42 não era imediatamente crítico, pois não se manifestaria até por volta do ano de 2214. Publicado em 1º de abril de 2014, por Pieter Wuille, o BIP42 é assim distinguido por seu tom humorístico.