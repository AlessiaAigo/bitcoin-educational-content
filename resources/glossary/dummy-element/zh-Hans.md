---
term: 虚拟元素
---

指在交易签名验证过程中，由操作码`OP_CHECKMULTISIG`和`OP_CHECKMULTISIGVERIFY`额外且不必要地消耗的元素。由于历史上的一次偏差一错误（单位移位错误），这两个操作码除了它们的基本功能外，还会从堆栈中移除一个额外的元素。因此，为了避免错误，必须在`scriptSig`的开始处包含一个虚拟值，以满足移除操作并绕过该错误。这个不必要的值就是所谓的“*虚拟元素*”。BIP11引入了P2MS标准，建议使用`OP_0`作为虚拟值。然而，这个标准在共识规则层面上并未强制执行，意味着任何值都可以放在那里而不会使交易无效。因此，虚拟元素成为了交易可变性的一个途径。随着SegWit软分叉的引入，BIP147规定这个虚拟元素必须严格是一个空字节数组（`OP_0`），从而通过使任何不符合共识规则的交易无效，消除了与此元素相关的可变性。这条规则，名为`NULLDUMMY`，适用于SegWit和非SegWit交易。