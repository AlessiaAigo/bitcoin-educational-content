---
term: BIP147
---

SegWitソフトフォークに含まれる提案で、`OP_CHECKMULTISIG`および`OP_CHECKMULTISIGVERIFY`操作によって消費されるダミー要素に関連する可変性ベクトルを解決することを目的としています。歴史的なオフバイワンバグ（単位シフトエラー）により、これら2つのオペコードは、基本機能を超えてスタックから追加の要素を削除します。エラーを避けるためには、バグを回避し削除を満たすために`scriptSig`の始めにダミー値を含めることが必須です。この値は不必要ですが、スクリプトが有効であるためには存在しなければなりません。P2MS標準を導入したBIP11は、不必要な値として`OP_0`を置くことを勧めました。しかし、この標準はコンセンサスルールレベルで強制されなかったため、任意の値をそこに置いてもトランザクションが無効になることはありませんでした。これが`OP_CHECKMULTISIG`および`OP_CHECKMULTISIGVERIFY`に可変性ベクトルが含まれていた方法です。BIP147は、このダミー要素が空のバイト配列（`OP_0`）でなければならないという新しいコンセンサスルール、`NULLDUMMY`を導入します。他の値はスクリプト評価の即時失敗につながります。この変更は、pre-SegWitスクリプトだけでなく、P2WSHスクリプトにも適用され、ソフトフォークが必要でした。