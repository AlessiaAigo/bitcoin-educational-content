---
term: BIP147
---

Đề xuất được bao gồm trong bản cập nhật mềm SegWit nhằm giải quyết một vector biến đổi liên quan đến phần tử giả mạo được sử dụng bởi các hoạt động `OP_CHECKMULTISIG` và `OP_CHECKMULTISIGVERIFY`. Do một lỗi lịch sử off-by-one (lỗi dịch đơn vị), hai opcode này loại bỏ một phần tử bổ sung khỏi stack ngoài chức năng cơ bản của chúng. Để tránh lỗi, do đó, việc bao gồm một giá trị giả mạo ở đầu `scriptSig` để đáp ứng việc loại bỏ và vượt qua lỗi là bắt buộc. Giá trị này không cần thiết, nhưng nó phải có mặt để script được coi là hợp lệ. BIP11, đã giới thiệu tiêu chuẩn P2MS, khuyến nghị đặt `OP_0` làm giá trị không cần thiết. Tuy nhiên, tiêu chuẩn này không được thực thi ở cấp độ quy tắc đồng thuận, có nghĩa là bất kỳ giá trị nào cũng có thể được đặt ở đó mà không làm mất hiệu lực của giao dịch. Đây là cách mà `OP_CHECKMULTISIG` và `OP_CHECKMULTISIGVERIFY` chứa một vector biến đổi. BIP147 giới thiệu một quy tắc đồng thuận mới, có tên là `NULLDUMMY`, yêu cầu phần tử giả mạo này phải là một mảng byte trống (`OP_0`). Bất kỳ giá trị nào khác dẫn đến việc thất bại ngay lập tức của việc đánh giá script. Thay đổi này áp dụng cho cả script trước SegWit cũng như script P2WSH và yêu cầu một bản cập nhật mềm.