---
termo: BIP147
---

Proposta incluída no soft fork SegWit com o objetivo de resolver um vetor de maleabilidade relacionado ao elemento dummy consumido pelas operações `OP_CHECKMULTISIG` e `OP_CHECKMULTISIGVERIFY`. Devido a um bug histórico de deslocamento de unidade (erro off-by-one), esses 2 opcodes removem um elemento adicional da pilha além de sua função básica. Para evitar um erro, é, portanto, obrigatório incluir um valor dummy no início do `scriptSig` para satisfazer a remoção e contornar o bug. Esse valor é desnecessário, mas deve estar lá para que o script seja válido. O BIP11, que introduziu o padrão P2MS, aconselhou a colocação de um `OP_0` como o valor desnecessário. No entanto, este padrão não foi aplicado no nível das regras de consenso, o que significa que qualquer valor poderia ser colocado lá sem invalidar a transação. É assim que `OP_CHECKMULTISIG` e `OP_CHECKMULTISIGVERIFY` continham um vetor de maleabilidade. O BIP147 introduz uma nova regra de consenso, denominada `NULLDUMMY`, exigindo que esse elemento dummy seja um array de bytes vazio (`OP_0`). Qualquer outro valor resulta na falha imediata da avaliação do script. Esta mudança aplica-se a scripts pré-SegWit, bem como a scripts P2WSH e exigiu um soft fork.