---
term: BIP147
---

Proposta inclusa nel soft fork SegWit volta a risolvere un vettore di malleabilità relativo all'elemento fittizio consumato dalle operazioni `OP_CHECKMULTISIG` e `OP_CHECKMULTISIGVERIFY`. A causa di un bug storico di off-by-one (errore di scostamento di unità), questi 2 opcode rimuovono un elemento aggiuntivo dallo stack oltre alla loro funzione di base. Per evitare un errore, è quindi obbligatorio includere un valore fittizio all'inizio dello `scriptSig` per soddisfare la rimozione e bypassare il bug. Questo valore è inutile, ma deve essere presente affinché lo script sia valido. BIP11, che ha introdotto lo standard P2MS, consigliava di mettere un `OP_0` come valore inutile. Tuttavia, questo standard non è stato applicato a livello di regole di consenso, il che significa che qualsiasi valore poteva essere collocato lì senza invalidare la transazione. È così che `OP_CHECKMULTISIG` e `OP_CHECKMULTISIGVERIFY` contenevano un vettore di malleabilità. BIP147 introduce una nuova regola di consenso, denominata `NULLDUMMY`, che richiede che questo elemento fittizio sia un array di byte vuoto (`OP_0`). Qualsiasi altro valore comporta il fallimento immediato della valutazione dello script. Questa modifica si applica sia agli script pre-SegWit sia agli script P2WSH e ha richiesto un soft fork.