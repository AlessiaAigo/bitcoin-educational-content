---
term: OP_CHECKSIGADD (0XBA)
---

Извлекает три верхних значения из стека: `публичный ключ`, `CScriptNum` `n` и `подпись`. Если подпись не является пустым вектором и недействительна, скрипт завершается с ошибкой. Если подпись действительна или является пустым вектором (`OP_0`), представлены два сценария:
* Если подпись является пустым вектором: на стек помещается `CScriptNum` со значением `n`, и выполнение продолжается;
* Если подпись не является пустым вектором и остается действительной: на стек помещается `CScriptNum` со значением `n + 1`, и выполнение продолжается.
Для упрощения, `OP_CHECKSIGADD` выполняет операцию, аналогичную `OP_CHECKSIG`, но вместо помещения на стек значений true или false, она добавляет `1` к второму значению на вершине стека, если подпись действительна, или оставляет это значение без изменений, если подпись представляет собой пустой вектор. `OP_CHECKSIGADD` позволяет создавать те же политики мультиподписи в Tapscript, что и с `OP_CHECKMULTISIG` и `OP_CHECKMULTISIGVERIFY`, но с возможностью пакетной проверки, что означает устранение процесса поиска при верификации традиционной мультиподписи и, таким образом, ускорение верификации при снижении операционной нагрузки на процессоры узлов. Этот операционный код был добавлен в Tapscript исключительно для нужд Taproot.