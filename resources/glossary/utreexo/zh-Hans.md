---
term: UTREEXO
---

由Tadge Dryja设计的协议，旨在使用基于默克尔树的累加器来压缩比特币节点的UTXO集合。与需要大量存储空间的经典UTXO集合不同，Utreexo通过仅存储默克尔树的根部大幅减少了所需的内存。这使得节点能够在不必保留完整UTXO集合的情况下，验证交易输入中使用的UTXOs的存在。通过使用Utreexo，每个节点只保留一个称为默克尔根的加密指纹。当进行交易时，用户提供UTXOs的所有权证明和相应的默克尔路径。因此，节点可以在不存储整个UTXO集合的情况下验证交易。让我们通过一个图解来理解这个机制：

![](../../dictionnaire/assets/15.png)

在这个例子中，我故意将UTXO集合减少到4个UTXO，以便于理解。实际上，重要的是要想象，在撰写这些行时，比特币上几乎有1.4亿个UTXO。在这个图解中，Utreexo节点只需要在RAM中保留默克尔根。如果它接收到一个花费UTXO编号3（以黑色表示）的交易，证明将包括以下元素：
* UTXO 3；
* HASH 4；
* HASH 1-2。

通过交易发送者传递的这些信息，Utreexo节点执行以下验证：
* 它计算UTXO 3的印记，得到HASH 3；
* 它将HASH 3与HASH 4连接起来；
* 它计算它们的印记，得到HASH 3-4；
* 它将HASH 3-4与HASH 1-2连接起来；
* 它计算它们的印记，得到默克尔根。

如果通过其过程获得的默克尔根与其在RAM中存储的默克尔根相同，那么它就确信UTXO编号3确实是UTXO集合的一部分。
这种方法减少了全节点运营商的RAM需求。然而，Utreexo有其局限性，包括由于额外证明而增加的区块大小，以及Utreexo节点可能依赖于桥接节点来获取缺失证明的潜在依赖性。桥接节点是提供给Utreexo节点必要证明的传统全节点，从而允许完全验证。这种方法在效率和去中心化之间提供了一种折衷，使得资源有限的用户更容易进行交易验证。