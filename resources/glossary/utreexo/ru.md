---
term: UTREEXO
---

Протокол, разработанный Таджем Драйя для компактного представления набора UTXO (Unspent Transaction Output, Непотраченные Выходы Транзакций) узлов Bitcoin с использованием аккумулятора на основе деревьев Меркла. В отличие от классического набора UTXO, который требует значительного объема памяти для хранения, Utreexo резко сокращает необходимый объем памяти, храня только корни деревьев Меркла. Это позволяет узлу проверять наличие UTXO, используемых во входах транзакций, без необходимости хранения полного набора UTXO. Используя Utreexo, каждый узел сохраняет только криптографический отпечаток, называемый корнем Меркла. Когда совершается транзакция, пользователь предоставляет доказательства владения UTXO и соответствующие пути Меркла. Таким образом, узел может проверять транзакции, не храня весь набор UTXO. Давайте рассмотрим пример с диаграммой для понимания этого механизма:

![](../../dictionnaire/assets/15.png)

В этом примере я намеренно уменьшил набор UTXO до 4, чтобы облегчить понимание. На самом деле важно представить, что на момент написания этих строк в Bitcoin существует почти 140 миллионов UTXO. В этой диаграмме узлу Utreexo потребуется хранить только корень Меркла в оперативной памяти. Если он получает транзакцию, расходующую UTXO № 3 (в черном цвете), доказательство будет состоять из следующих элементов:
* UTXO 3;
* HASH 4;
* HASH 1-2.

С этой информацией, переданной отправителем транзакции, узел Utreexo выполняет следующие проверки:
* Он вычисляет отпечаток UTXO 3, что дает ему HASH 3;
* Он соединяет HASH 3 с HASH 4;
* Он вычисляет их отпечаток, что дает ему HASH 3-4;
* Он соединяет HASH 3-4 с HASH 1-2;
* Он вычисляет их отпечаток, что дает ему корень Меркла.

Если корень Меркла, полученный в результате его процесса, совпадает с корнем Меркла, хранящимся в его оперативной памяти, то он убежден, что UTXO № 3 действительно является частью набора UTXO.
Этот метод сокращает требования к оперативной памяти для операторов полных узлов. Однако у Utreexo есть ограничения, включая увеличение размера блока из-за дополнительных доказательств и потенциальную зависимость узлов Utreexo от мостовых узлов (Bridge Nodes) для получения недостающих доказательств. Мостовые узлы - это традиционные полные узлы, которые предоставляют необходимые доказательства узлам Utreexo, тем самым позволяя полную верификацию. Этот подход предлагает компромисс между эффективностью и децентрализацией, делая проверку транзакций более доступной для пользователей с ограниченными ресурсами.