---
term: SIGHASH FLAG
---

Bitcoin取引におけるパラメータで、取引（入力と出力）のどの部分が関連する署名によってカバーされ、それによって不変になるかを決定します。SigHash Flagは、各入力のデジタル署名に追加されるバイトです。したがって、SigHash Flagの選択は、署名によって固定される取引のどの部分が、後から変更可能かを直接的に影響します。このメカニズムは、署名者の意図に従って、署名が取引データを正確かつ安全にコミットすることを保証します。主なSigHash Flagは3つあります：

- `SIGHASH_ALL` (`0x01`): 署名は取引のすべての入力と出力に適用され、それらを完全にロックします；

- `SIGHASH_NONE` (`0x02`): 署名はすべての入力に適用されますが、出力には適用されず、署名後に出力を変更できます；

- `SIGHASH_SINGLE` (`0x03`): 署名はすべての入力と、署名された入力のインデックスに対応する1つの出力のみをカバーします。

これら3つのSigHash Flagに加えて、修飾子`SIGHASH_ANYONECANPAY` (`0x80`)がそれぞれのタイプと組み合わせて使用できます。この修飾子が使用されると、入力の一部のみが署名され、他は変更が可能です。修飾子を組み合わせた既存の組み合わせは以下の通りです：

- `SIGHASH_ALL | SIGHASH_ANYONECANPAY` (`0x81`): 署名は単一の入力に適用され、取引のすべての出力をカバーします；

- `SIGHASH_NONE | SIGHASH_ANYONECANPAY` (`0x82`): 署名は単一の入力をカバーし、どの出力にもコミットしません；

- `SIGHASH_SINGLE | SIGHASH_ANYONECANPAY` (`0x83`): 署名は単一の入力と、この入力と同じインデックスを持つ出力のみに適用されます。

> ► *「SigHash」の同義語として時々使用される言葉に「Signature Hash Types」があります。*