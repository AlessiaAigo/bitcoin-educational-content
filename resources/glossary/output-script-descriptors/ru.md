---
term: ОПИСАТЕЛИ ВЫХОДНОГО СКРИПТА
---

Описатели выходного скрипта, или просто описатели, представляют собой структурированные выражения, которые полностью описывают выходной скрипт (`scriptPubKey`) и предоставляют всю необходимую информацию для отслеживания транзакций на определенный скрипт или с него. Эти описатели облегчают управление ключами в HD-кошельках через стандартное описание структуры и типов используемых адресов.

Основной интерес к описателям заключается в их способности инкапсулировать всю существенную информацию для восстановления кошелька в одной строке (в дополнение к фразе восстановления). Сохраняя описатель вместе с соответствующими мнемоническими фразами, можно восстановить не только приватные ключи, но и точную структуру кошелька и связанные параметры скрипта. Действительно, для восстановления кошелька требуется не только знание начального сида, но и конкретные индексы для производства дочерних пар ключей, а также `xpub` каждого фактора в случае мультисигнатурного кошелька. Ранее предполагалось, что эта информация неявно известна всем. Однако с диверсификацией скриптов и появлением более сложных конфигураций эта информация могла стать сложной для экстраполяции, превращая эти данные в частную и трудную для подбора информацию. Использование описателей значительно упрощает процесс: достаточно знать фразу(ы) восстановления и соответствующий описатель, чтобы надежно и безопасно восстановить все.

Описатель состоит из нескольких элементов:
* Функции скрипта, такие как `pk` (Pay-to-PubKey), `pkh` (Pay-to-PubKey-Hash), `wpkh` (Pay-to-Witness-PubKey-Hash), `sh` (Pay-to-Script-Hash), `wsh` (Pay-to-Witness-Script-Hash), `tr` (Pay-to-Taproot), `multi` (Мультиподпись) и `sortedmulti` (Мультиподпись с сортированными ключами);
* Пути производства, например, `[d34db33f/44h/0h/0h]`, указывающие производный путь и конкретный отпечаток мастер-ключа;
* Ключи в различных форматах, таких как шестнадцатеричные публичные ключи или расширенные публичные ключи (`xpub`);
* Контрольная сумма, предшествующая хешу, для проверки целостности описателя.

Например, описатель для кошелька P2WPKH может выглядеть так:

```text
wpkh([cdeab12f/84h/0h/0h]xpub6CUGRUonZSQ4TWtTMmzXdrXDtyPWKiKbERr4d5qkSmh5h17
C1TjvMt7DJ9Qve4dRxm91CDv6cNfKsq2mK1rMsJKhtRUPZz7MQtp3y6atC1U/<0;1>/*)#jy0l7n
r4
```
В этом описателе функция производства `wpkh` указывает на тип скрипта Pay-to-Witness-Public-Key-Hash. За ней следует путь производства, который содержит:
* `cdeab12f`: отпечаток мастер-ключа;
* `84h`: что означает использование цели BIP84, предназначенной для адресов SegWit v0;
* `0h`: что указывает, что это валюта BTC на основной сети;
* `0h`: что относится к конкретному номеру счета, используемому в кошельке.

Описатель также включает расширенный публичный ключ, используемый в этом кошельке:
xpub6CUGRUonZSQ4TWtTMmzXdrXDtyPWKiKbERr4d5qkSmh5h17C1TjvMt7DJ9Qve4dRxm91CDv6cNfKsq2mK1rMsJKhtRUPZz7MQtp3y6atC1U

Далее, обозначение `/<0;1>/*` указывает, что дескриптор может генерировать адреса из внешней (`0`) и внутренней (`1`) цепочек, где подстановочный знак (`*`) позволяет последовательно выводить множество адресов способом, настраиваемым аналогично управлению "пределом пропуска" в традиционном программном обеспечении для кошельков.

Наконец, `#jy0l7nr4` представляет собой контрольную сумму для проверки целостности дескриптора.