---
term: OUTPUT SCRIPT DESCRIPTORS
---

アウトプットスクリプトディスクリプタ、または単にディスクリプタは、アウトプットスクリプト（`scriptPubKey`）を完全に記述し、特定のスクリプトへのまたはそのスクリプトからのトランザクションを追跡するために必要なすべての情報を提供する構造化された表現です。これらのディスクリプタは、使用されるアドレスの構造とタイプの標準的な記述を通じて、HDウォレット内のキーの管理を容易にします。

ディスクリプタの主な利点は、ウォレットを復元するために必要なすべての基本情報を単一の文字列（リカバリーフレーズに加えて）にカプセル化できる能力にあります。対応するニーモニックフレーズとディスクリプタを保存することで、プライベートキーだけでなく、ウォレットの正確な構造と関連するスクリプトパラメータも復元することが可能です。実際、ウォレットを復元するには、初期シードの知識だけでなく、子キーペアの導出のための特定のインデックス、およびマルチシグウォレットの場合は各要素の`xpub`も必要です。以前は、この情報がすべてによって暗黙的に知られていると想定されていました。しかし、スクリプトの多様化とより複雑な構成の出現により、この情報を抽出することが困難になる可能性があり、これらのデータをプライベートでブルートフォースが難しい情報に変えてしまいます。ディスクリプタの使用はプロセスを大幅に簡素化します：リカバリーフレーズと対応するディスクリプタを知っていれば、信頼性と安全性をもってすべてを復元することができます。

ディスクリプタはいくつかの要素から構成されます：
* スクリプト関数、例えば`pk`（Pay-to-PubKey）、`pkh`（Pay-to-PubKey-Hash）、`wpkh`（Pay-to-Witness-PubKey-Hash）、`sh`（Pay-to-Script-Hash）、`wsh`（Pay-to-Witness-Script-Hash）、`tr`（Pay-to-Taproot）、`multi`（マルチシグネチャ）、そして`sortedmulti`（キーをソートしたマルチシグネチャ）;
* 導出パス、例えば`[d34db33f/44h/0h/0h]`は導出されたパスと特定のマスターキーのフィンガープリントを示します;
* さまざまな形式のキー、例えば16進数の公開キーや拡張公開キー（`xpub`）;
* チェックサムは、ディスクリプタの完全性を検証するためにハッシュに先行しています。

例えば、P2WPKHウォレットのディスクリプタは以下のようになります：

```text
wpkh([cdeab12f/84h/0h/0h]xpub6CUGRUonZSQ4TWtTMmzXdrXDtyPWKiKbERr4d5qkSmh5h17
C1TjvMt7DJ9Qve4dRxm91CDv6cNfKsq2mK1rMsJKhtRUPZz7MQtp3y6atC1U/<0;1>/*)#jy0l7n
r4
```
このディスクリプタでは、導出関数`wpkh`はPay-to-Witness-Public-Key-Hashスクリプトタイプを示しています。それに続く導出パスには以下が含まれます：
* `cdeab12f`：マスターキーのフィンガープリント;
* `84h`：SegWit v0アドレス用のBIP84目的を示しています;
* `0h`：メインネット上のBTC通貨を示しています;
* `0h`：ウォレットで使用される特定のアカウント番号を参照しています。

ディスクリプタには、このウォレットで使用される拡張公開キーも含まれています：
xpub6CUGRUonZSQ4TWtTMmzXdrXDtyPWKiKbERr4d5qkSmh5h17C1TjvMt7DJ9Qve4dRxm91CDv6cNfKsq2mK1rMsJKhtRUPZz7MQtp3y6atC1U

次に、記法 `/<0;1>/*` は、ディスクリプタが外部チェーン (`0`) と内部チェーン (`1`) からアドレスを生成できることを指定しており、ワイルドカード (`*`) を使用して複数のアドレスを連続して導出できるようにします。これは、従来のウォレットソフトウェアで「ギャップリミット」を管理するのに似ています。

最後に、`#jy0l7nr4` はディスクリプタの整合性を検証するためのチェックサムを表します。