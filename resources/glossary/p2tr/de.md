---
term: P2TR
---

P2TR steht für *Pay to Taproot*, was ein standardisiertes Skriptmodell ist, das verwendet wird, um Ausgabebedingungen für ein UTXO (Unspent Transaction Output) festzulegen. Es wurde mit der Implementierung von Taproot im November 2021 eingeführt. P2TR nutzt das Schnorr-Protokoll zur Aggregation kryptografischer Schlüssel sowie Merkle-Bäume für alternative Skripte, bekannt als MAST (*Merkelized Alternative Script Tree*). Im Gegensatz zu traditionellen Transaktionen, bei denen die Ausgabebedingungen öffentlich offengelegt werden (manchmal zum Zeitpunkt des Empfangs, manchmal zum Zeitpunkt der Ausgabe), ermöglicht P2TR das Verbergen komplexer Skripte hinter einem einzigen scheinbaren öffentlichen Schlüssel.

Technisch gesehen sperrt ein P2TR-Skript Bitcoins auf einem einzigartigen Schnorr-öffentlichen Schlüssel, bezeichnet als $K$. Dieser Schlüssel $K$ ist jedoch tatsächlich eine Aggregation eines öffentlichen Schlüssels $P$ und eines öffentlichen Schlüssels $M$, wobei letzterer aus der Merkle-Wurzel einer Liste von `scriptPubKey` berechnet wird. Die mit einem P2TR-Skript gesperrten Bitcoins können auf zwei unterschiedliche Arten ausgegeben werden: entweder durch Veröffentlichung einer Signatur für den öffentlichen Schlüssel $P$ oder durch Erfüllung eines der Skripte im Merkle-Baum. Die erste Option wird als "*key path*" bezeichnet und die zweite als "*script path*".

Somit ermöglicht P2TR den Benutzern, Bitcoins entweder an einen öffentlichen Schlüssel oder an mehrere Skripte ihrer Wahl zu senden. Ein weiterer Vorteil dieses Skripts ist, dass, obwohl es mehrere Möglichkeiten gibt, eine P2TR-Ausgabe auszugeben, nur die tatsächlich verwendete zum Zeitpunkt der Ausgabe offenbart werden muss, was es erlaubt, dass die ungenutzten Alternativen privat bleiben. P2TR ist eine Version 1 SegWit-Ausgabe, was bedeutet, dass die Signaturen für P2TR-Eingaben im Zeugen eines Transaktion gespeichert werden und nicht im `scriptSig`. P2TR-Adressen verwenden eine `Bech32m`-Kodierung und beginnen mit `bc1p`.