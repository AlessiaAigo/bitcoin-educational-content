---
term: P2TR
---

P2TR代表*支付至Taproot*，这是一种标准的脚本模型，用于在UTXO（未花费交易输出）上建立消费条件。它随着Taproot的实施在2021年11月被引入。P2TR利用Schnorr协议来聚合加密密钥，以及用于备选脚本的Merkle树，这些备选脚本被称为MAST（*Merkelized Alternative Script Tree*）。与传统交易不同，传统交易的消费条件是公开暴露的（有时在接收时，有时在消费时），P2TR允许在单一的明显公钥后隐藏复杂脚本。

技术上，P2TR脚本通过一个独特的Schnorr公钥$K$锁定比特币。然而，这个密钥$K$实际上是公钥$P$和从Merkle根计算出的一系列`scriptPubKey`的公钥$M$的聚合体。使用P2TR脚本锁定的比特币可以通过两种不同的方式花费：要么发布公钥$P$的签名，要么满足Merkle树中包含的一个脚本。第一种选择被称为“*密钥路径*”，第二种被称为“*脚本路径*”。

因此，P2TR允许用户将比特币发送至一个公钥或他们选择的多个脚本。这种脚本的另一个优点是，尽管有多种方式可以花费P2TR输出，但只有在花费时使用的那一种需要被揭露，允许未使用的替代方案保持私密。P2TR是一个版本1的SegWit输出，这意味着P2TR输入的签名存储在交易的见证部分，而不是在`scriptSig`中。P2TR地址使用`Bech32m`编码，以`bc1p`开头。