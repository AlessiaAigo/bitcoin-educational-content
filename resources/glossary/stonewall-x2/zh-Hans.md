---
term: STONEWALL X2
---

一种特定形式的比特币交易，旨在通过与第三方合作（该第三方未参与支出）来增加用户在进行支出时的隐私。这种方法模拟了两个参与者之间的迷你coinjoin，同时向第三方支付。Stonewall x2交易在Samourai Wallet应用程序和Sparrow Wallet软件（两者都是互操作的）上都可用。

其操作相对简单：它使用我们拥有的一个UTXO来进行支付，并寻求第三方的帮助，该第三方也贡献了他们拥有的一个UTXO。交易以四个输出结束：其中两个金额相等，一个用于支付接收者的地址，另一个用于合作者的地址。第三个UTXO被发送回合作者的另一个地址，允许他们恢复初始金额（对他们来说是一个中性行动，减去挖矿费用），最后一个UTXO返回到我们拥有的地址，这构成了支付的找零。因此，在Stonewall x2交易中定义了三种不同的角色：
* 发送者，进行有效支付的人；
* 合作者，提供比特币以提高交易的整体匿名性，同时在最后完全恢复他们的资金；
* 接收者，可能不知道交易的具体性质，只是等待来自发送者的支付。

![](../../dictionnaire/assets/3.png)

Stonewall x2结构为交易增加了大量的熵，并混淆了链分析的踪迹。从外部看，这样的交易可以被解释为两个人之间的小型coinjoin。但实际上，它是一次支付。因此，这种方法在链分析中产生了不确定性，甚至导致了错误的线索。即使外部观察者设法识别出Stonewall x2交易的模式，他们也不会拥有所有信息。他们将无法确定两个金额相等的UTXO中哪一个对应于支付。而且，他们将无法知道是谁进行了支付。最后，他们将无法确定两个输入UTXO是否来自两个不同的人，或者它们属于一个合并了它们的单一人。这最后一点是因为经典的Stonewall交易与Stonewall x2交易遵循完全相同的模式。从外部看，没有关于上下文的额外信息，不可能区分Stonewall交易和Stonewall x2交易。然而，前者不是合作交易，而后者是。这在支出方面增加了更多的疑问。