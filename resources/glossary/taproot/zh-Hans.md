---
term: TAPROOT
---

TAPROOT是比特币协议的一次重大更新，通过2021年11月的一个软分叉采纳。这次更新通过实施BIP340、BIP341和BIP342，带来了在隐私性、效率和灵活性方面的显著改进。这次更新在2021年6月12日的区块687,284锁定，当时在一个周期内生成的90%的区块表示支持，从而表明矿工们准备激活这次更新（*Speedy Trial*）。激活最终在2021年11月14日的区块709,632上发生，距离Pieter Wuille、Andrew Poelstra和Gregory Maxwell之间关于此事的初次讨论几乎四年后。这是自2017年SegWit内容激活引发争议以来的第一次重大更新尝试。

Taproot也是在同名软分叉中实施的BIP341的名称，它引入了一个名为P2TR的新脚本模型。一个P2TR脚本通过一个独特的Schnorr公钥（表示为$K$）锁定比特币。然而，这个公钥$K$实际上是一个公钥$P$和一个从`scriptPubKey`的Merkle根计算出的公钥$M$的聚合。用P2TR脚本锁定的比特币可以通过两种不同的方式花费：要么发布一个公钥$P$的签名，要么满足Merkle树中包含的一个脚本。第一个选项被称为“*key path*”，第二个选项被称为“*script path*”。