---
term: STONEWALL
---

一种特定形式的比特币交易，旨在通过模仿两人之间的coinjoin来增加用户在花费时的隐私，但实际上并不是真正的coinjoin。事实上，这种交易不是协作性的。用户可以单独构建它，只涉及他们自己的UTXOs作为输入。因此，你可以在任何场合创建Stonewall交易，无需与另一个用户同步。

Stonewall交易的操作如下：在交易的输入端，发送者使用属于他们的2个UTXOs。然后，交易产生4个输出，其中2个将是完全相同的金额。另外2个将构成找零。在相同金额的2个输出中，只有一个实际上会转给付款的接收者。

因此，在Stonewall交易中只有2个角色：
* 发送者，进行实际支付；
* 接收者，可能不知道交易的特定性质，只是等待来自发送者的付款。

![](../../dictionnaire/assets/33.png)
Stonewall交易在Samourai Wallet应用和Sparrow Wallet软件上都可用。

Stonewall结构为交易增加了大量的熵，并使链分析的追踪变得模糊。从外部看，这样的交易可以被解释为两人之间的小型coinjoin。但实际上，就像Stonewall x2交易一样，它是一次支付。因此，这种方法在链分析中产生了不确定性，甚至导致了错误的线索。即使外部观察者设法识别出Stonewall交易的模式，他们也不会拥有所有信息。他们将无法确定哪两个相同金额的UTXOs对应于支付。此外，他们将无法确定输入端的两个UTXOs是来自两个不同的人，还是属于一个将它们合并的人。这最后一点是因为Stonewall x2交易遵循的模式与Stonewall交易完全相同。从外部看，没有额外的上下文信息，不可能区分Stonewall交易和Stonewall x2交易。然而，前者不是协作交易，而后者是。这为这笔支出增加了更多的疑问。