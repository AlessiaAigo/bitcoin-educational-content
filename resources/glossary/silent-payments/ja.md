---
term: SILENT PAYMENTS
---

静的なBitcoinアドレスを使用して、アドレスの再利用、相互作用のない、そして異なる支払いと静的アドレス間の可視的なオンチェーンリンクなしに支払いを受け取る方法。この技術は、各トランザクションに対して新しい未使用の受信アドレスを生成する必要を排除し、受取人が支払人に新しいアドレスを提供する必要があるBitcoinでの通常のやり取りを避けます。

Silent Paymentsでは、支払人は受取人の公開鍵（支出公開鍵とスキャン公開鍵）と自身のプライベートキーの合計を入力として使用し、各支払いに対して新しいアドレスを生成します。この支払いアドレスに対応するプライベートキーを計算できるのは、そのプライベートキーを持つ受取人だけです。ECDH（*楕円曲線ディフィー・ヘルマン*）、暗号鍵交換アルゴリズムが使用され、共有秘密が確立され、それを使用して受信アドレスとプライベートキー（受取人側のみ）が導出されます。Silent Paymentsが自分宛てであることを特定するためには、受取人はブロックチェーンをスキャンし、プロトコルの基準に一致する各トランザクションを調査する必要があります。BIP47は通知トランザクションを使用して支払いチャネルを確立しますが、Silent Paymentsはこのステップを省略し、トランザクションを節約します。しかし、妥協点は、受取人がECDHを適用して自分宛てかどうかを判断するために、すべての潜在的なトランザクションをスキャンする必要があることです。

例えば、Bobの静的アドレス $B$ は彼のスキャン公開鍵と彼の支出公開鍵の連結を表します：

$$ B = B_{\text{scan}} \text{ ‖ } B_{\text{spend}} $$

これらの鍵は次のパスから単純に導出されます：

```text
scan : m / 352' / 0' / 0' / 1' / 0
spend : m / 352' / 0' / 0' / 0' / 0
```

この静的アドレスはBobによって公開されます。Aliceはそれを取得してBobにSilent Paymentを行います。彼女はこの方法でBobの支払いアドレス $P_0$ を計算します：

$$  P_0 = B_{\text{spend}} + \text{hash}(\text{inputHash} \cdot a \cdot B_{\text{scan}} \text{ ‖ } 0) \cdot G  $$

ここで：

$$  \text{inputHash} = \text{hash}(\text{outpoint}_L \text{ ‖ } A)  $$

以下のものを含む：
* $B_{\text{scan}}$：Bobのスキャン公開鍵（静的アドレス）;
* $B_{\text{spend}}$：Bobの支出公開鍵（静的アドレス）;
* $A$：入力内の公開鍵の合計（調整）;
* $a$：調整のプライベートキー、つまりAliceのトランザクションで入力として消費されたUTXOの`scriptPubKey`で使用されるすべてのキーペアの合計;
* $\text{outpoint}_L$：Aliceのトランザクションで入力として使用される最小のUTXO（辞書順）;
* $\text{ ‖ }$：連結（オペランドを端から端まで結合する操作）;
* $G$：楕円曲線 `secp256k1` の生成点;
* $\text{hash}$：`BIP0352/SharedSecret`でタグ付けされたSHA256ハッシュ関数;
* $P_0$：Bobへの支払いのための最初の公開鍵/ユニークアドレス;
* $0$：複数のユニークな支払いアドレスを生成するために使用される整数。

Bobはこの方法でブロックチェーンをスキャンして、彼のSilent Paymentを見つけます：
$$  P_0 = B_{\text{spend}} + \text{hash}(\text{inputHash} \cdot b_{\text{scan}} \cdot A \text{ ‖ } 0) \cdot G  $$

以下を含む：
* $b_{\text{scan}}$：ボブのプライベートスキャンキー。

もし彼が$P_0$を、彼宛のサイレントペイメントを含むアドレスとして見つけた場合、彼は$P_0$にアリスから送られた資金を使うことを可能にするプライベートキー$p_0$を計算します：

$$ p_0 = (b_{\text{spend}} + \text{hash}(\text{inputHash} \cdot b_{\text{scan}} \cdot A \text{ ‖ } 0)) \mod n $$

以下を含む：
* $b_{\text{spend}}$：ボブのプライベート支出キー；
* $n$：楕円曲線`secp256k1`の位数。

この基本バージョンに加えて、複数の異なる静的アドレスを同じ基本的な静的アドレスから生成するためにラベルを使用することもできます。これは、スキャン中に必要な作業を不当に増やすことなく、複数の使用法を分離することを目的としています。